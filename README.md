# ansible_2

Условия для запуска playbook на агенте: ОС ubuntu, Open SSH сервер, пакет: python-apt.
Подключение к агенту производится с помощью служебной учетной записи ansible_servce с помощью публичного ключа описанного в ansible.cfg

Пункты выполняемые в playbook:

1. установка последней версии nginx используя пакетный менеджер apt.
2. запуск и включение сервиса nginx в автозагрузку
3. копирование конфигов для активации нового сайта на 80 порту.
4. создание папки tutorial для статичского отображения
5. копирование конфигов для изменения порта для сайта по умолчанию.
6. копирование нового сайта index.html.
7. любое изменение конфигурации влечет за собой перезапуск nginx.

Запуск:
Проверка ошибок: sudo ansible-playbook -i inventory.yml playbook_ii_nginx.yml --diff --check
Запуск: sudo ansible-playbook -i inventory.yml playbook_ii_nginx.yml

Результат выполнения сценария доступна страница по адресу http://ip_host/ с текстом "DevOps Course 2021"